{% load static %}
<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil do Usuário</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/perfil.css' %}">
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <a class="navbar-brand fw-bold ms-4" href="{% url 'visualizar' %}">Perfil do Usuário</a>
      <a href="{% url 'deslogar' %}" class="btn btn-danger btn-sm me-4">Sair</a>
    </div>
  </nav>

  <div class="container mt-4 mb-5">

    <div class="card card-section">
      <div class="section-title">Informações Pessoais</div>
      <span class="label-readonly">Nome completo:</span><span class="value-readonly">{{ request.user.first_name }}</span>
      <span class="label-readonly">CPF:</span><span class="value-readonly">
        {% if request.user.informacoesadicionais.cpf %}
          {{ request.user.informacoesadicionais.cpf }}
        {% else %}
          ...
        {% endif %}
      </span>
      <span class="label-readonly">Telefone:</span><span class="value-readonly">
        {% if request.user.informacoesadicionais.telefone %}
          {{ request.user.informacoesadicionais.telefone }}
        {% else %}
          ...
        {% endif %}
      </span>
      <span class="label-readonly">E-mail:</span><span class="value-readonly">{{ request.user.username }}</span>
      <span class="label-readonly">Data de Nascimento:</span><span class="value-readonly">
        {% if request.user.informacoesadicionais.dataNascimento %}
          {{ request.user.informacoesadicionais.dataNascimento }}
        {% else %}
          ...
        {% endif %}
      </span>
      <span class="label-readonly">Tipo Sanguíneo:</span><span class="value-readonly">
        {% if request.user.informacoesadicionais.tipoSanguineo %}
          {{ request.user.informacoesadicionais.tipoSanguineo }}
        {% else %}
          ...
        {% endif %}
      </span>
      <span class="label-readonly">Alergias Medicamentosas:</span><span class="value-readonly">
        {% if request.user.informacoesadicionais.alergiasMedicamentos %}
          {{ request.user.informacoesadicionais.alergiasMedicamentos }}
        {% else %}
          ...
        {% endif %}
      </span>
      <span class="label-readonly">Restrições:</span><span class="value-readonly">
        {% if request.user.informacoesadicionais.restricoes %}
          {{ request.user.informacoesadicionais.restricoes }}
        {% else %}
          ...
        {% endif %}
      </span>
      <span class="label-readonly">Endereço:</span><span class="value-readonly">
        {% if request.user.informacoesadicionais.endereco %}
          {{ request.user.informacoesadicionais.endereco }}
        {% else %}
          ...
        {% endif %}
      </span>
    </div>

    <div class="card card-section">
      <div class="section-title">Contato de Emergência</div>
      {% with contato=request.user.informacoesadicionais.contatosemergencia %}
        {% if contato.nomeEmergencia or contato.telefoneEmergencia %}
          <span class="label-readonly">Nome do Contato:</span><span class="value-readonly">{{ contato.nomeEmergencia }}</span>
          <span class="label-readonly">Telefone de Emergência:</span><span class="value-readonly">{{ contato.telefoneEmergencia }}</span>
        {% else %}
          <span class="label-readonly">Nome do Contato:</span><span class="value-readonly">...</span>
          <span class="label-readonly">Telefone de Emergência:</span><span class="value-readonly">...</span>
        {% endif %}
      {% endwith %}
    </div>

    <div class="d-flex justify-content-end">
      <a href="{% url 'editar' %}" class="btn btn-success px-4">Editar</a>
    </div>
  </div>

</body>

</html>